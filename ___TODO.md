# Taf en cours

L√©gende :

- üöÄ  En cours / **1 MAX A LA FOIS**
- ‚úÖ  Termin√©
- ‚è©  Suite
- üöß  WIP / Work In Progress / Entam√©, pas termin√©
- üìå  A tester
- üîç  Lecture/Vid√©os
- üå±  Plus tard, besoin d√©pendance ou flemme sur le coup
- ‚ôªÔ∏è  R√©current
- üöö  Contenus/notes dans les autres fichiers TODO
- üí©  KO
- ‚è≥ en attente
- ü§è Petite partie

## üß†‚è´ Raccourcis & process √† int√©grer au flow

- Dactylo le midi > [typing study](https://www.typingstudy.com/fr/lesson/3/part/8)
- T√©trachi√©e de nouveaux plugins VSCode
  - TO DO Tree
  - polacode > joli print de code

## üöÄ Priorisation, simple ‚è©

Indiquer ici les *t√¢ches √† effectuer en priorit√©*

- Si besoin de focus, mettre une ou 2 t√¢ches ici.
- Ne pas tout fourrer ici, *respecter la priorisation*, sinon tout est fait √† l'arrache

Taf

1. üí• 21/05/2021 > Heberg picard > Basculer sur nouveau serveur & annuler

### Sinon, priorisation classique

1. T√¢ches r√©currentes
2. T√¢ches en attente
3. T√¢ches critiques
4. T√¢ches rapides
5. T√¢ches WIP
6. Autres fichiers TODO classiques (Taf > AE > Perso)

## ‚ôªÔ∏è T√¢ches r√©currentes ‚ôªÔ∏è

T√¢ches √† *v√©rifier au moins une fois par semaine*, afin d'√©viter un bordel plus tard/exponentiel

- ‚úÖ D√©placer les termin√©s ‚úÖ √† chaque d√©but de semaine dans done.md
- üí© D√©placer les TODO üå± dans _TODO_shame.md
- ‚úÖ Shame TODOs : Extraire ici (### Shame) les emplois du temps stock√©s sur ‚úÖ mails, ‚úÖ edt portable, ‚úÖ favoris, ‚úÖ bureau. Si possible description + lien.
- ‚úÖ Nettoyer le fichier __TODO
  - ‚úÖ Status
  - ‚úÖüí• Ce fichier > ### Shame üí• Cleaner pour vrai les trucs ou je ne passe jamais
    - ‚úÖ Ranger dans fichiers TODO correspondant
      - ‚úÖ Prioriser
- ‚úÖ Virer ce qui traine
  - ‚úÖ sur le bureau
  - üí© dans le dossier _shame du bureau
  - üí© Lel ~(local)/_dev/_shame
  - ‚úÖ Vider corbeille
  - ‚úÖ Vider t√©l√©chargements
  - ‚úÖ Dans les mails
- ‚úÖ D√©placer veille onglets dans TODO_veille
- üí© Ranger DD boulot
- üí© Lel Veille / Un truc par semaine, genre le vendredi aprem, a githuber
- ‚úÖ D√©claration Auto entrepreneur
  - ‚è≥ Mai 2022
- ‚úÖ V√©rifier imp√¥ts sur espace / Derni√®re v√©rif 15/08/2021
  - ‚úÖ Perso  / ‚úÖ 04/05/22
  - ‚úÖ Pro    / ‚úÖ 04/05/22 (CFE r√©gl√© le 17/11/2021)
- ‚úÖ V√©rifier messages [Ameli](https://assure.ameli.fr/)
- ‚è≥ Maj locales / Environnement de dev / Derni√®re maj le 01/06/21
  - ‚úÖ CHKDSK / Besoin de param `/f` ou [ne r√©pare pas](https://docs.microsoft.com/fr-fr/windows-server/administration/windows-commands/chkdsk), `/r` √©galement
    1. Invite de commande ou Powershell **en admin**
    2. `chkdsk c: /f /r` (et en fonction de vos disques.. && `chkdsk d: /f /r`, etc.)
    3. `>Blah blah besoin de red√©marrer O/n` >> `O`
    4. Red√©marrer / Attendre 5 ans et demi sauf si t'as un SSD/Nvme
  - ‚úÖ Windaube
    - ‚úÖ Update alakon
    - ‚úÖ [.net](https://dotnet.microsoft.com/download) > Runtime
    - ‚úÖ Panneau de conf > "Fichiers temporaires" > "Fichiers temporaires" (dans les cat√©gories) > Supprimer
  - ‚úÖ Drivers > [detection auto](https://www.touslesdrivers.com/index.php?v_page=29) > Lancer √©x√©cutable, √ßa ouvre une page recap, et suivre liens dl
  - ‚úÖ Firmware SSDs / D√©pend du constructeur > Voir site officiel, avec un peu de chance logiciel auto alakon
    - (Mon ancien MSI) > [Sandisk ultra II](https://kb.sandisk.com/app/answers/detail/a_id/6053/~/ultra-3d-%7C-sandisk-ssd-plus-%28ssd%29-support-information)
      - Lancer (Sandisk) "Dashboard" / Firmware update automatique, et il pr√©veitn avant. Nice
    - ‚úÖ Dell support assist
    - ‚úÖ Alienware update
  - ‚úÖ Docker desktop (tray > ic√¥ne > RC > Check for updates) / Attention, besoin de red√©marrer a la main pour installation
  - ‚úÖ Logiciels alakon
    - ‚úÖ Ouvrir VScode > Auto update plugins etc.
    - ~~Filezilla~~ ‚úÖ WinSCP, ‚úÖ OBS, ‚úÖ VLC, ESET, [Xnview classic (Pas MP)](https://www.xnview.com/fr/xnview/#downloads)
    - ‚úÖ Powershell [sans prise de t√™te](https://aka.ms/powershell-release?tag=stable) > ~`PowerShell-VERSION-win-x64.msi`.
      - ( [Doc](https://docs.microsoft.com/fr-fr/powershell/scripting/install/installing-powershell-core-on-windows?view=powershell-7.1) )
    - ‚úÖ Nvidia driver
  - ‚úÖ Supprimer les fichiers temporaires
    - Exec > `temp` // Devrait ouvrir `~c:Windows\Temp`
    - Supprimer tout
  - ‚úÖ WSL
    - Version Ubuntu
      - Si majeure, r√©-effectuer [install-dev-env](https://github.com/youpiwaza/install-dev-env)
    - Packages & terminal

```bash
omz update
git -C ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k pull && sudo apt update && sudo apt --fix-broken install && sudo apt -y upgrade && sudo apt -y autoremove
```

- ‚è≥ Maj serveur, script maintenance
  - `98-maintenance.yml` & `sudo apt -y update && sudo apt --fix-broken install && sudo apt -y upgrade && sudo apt -y autoremove` & reboot si besoin
  - Maj Lapie HMAC
- ‚è≥ Maj budget couple
- ‚è≥ Serveur > Maj images
  - Maria DB
  - Nginx
  - WP
  - √† compl√©ter
- ‚úÖ T√©l√©phone
  - ‚úÖ Maj de la base
  - ‚úÖ Maj des applications
  - ‚è≥ Tous les 6 mois > reset usine
- ‚úÖ Compl√©ments alimentaires
  - ‚úÖ Huile de foie de morue
  - ‚úÖ Choline Inositol
  - ‚úÖ Trucs foie/reins
  - ‚úÖ Ginseng
  - ‚úÖ Mix vitamine
  - ‚úÖ Doc > vitamine D tous les 6 mois
- ‚úÖ Tout est Versionn√©, pas de WIP qui tra√Æne

---

## ‚è≥ En attente

1. ‚è≥ Bouchons oreilles thomann
   1. 1 semaine stock + d√©lai livraison
2. ‚è≥ Acheter etiqueteuse [Dymo](https://www.google.com/search?q=Dymo&oq=Dymo&aqs=chrome..69i57.330j0j1&sourceid=chrome&ie=UTF-8)
   1. check en mai/juin ou pas lol
3. ‚è≥ Couteaux > acheter guide, pierres++ & cuir
   1. Libraison 4 & 5 mai

### ‚è≥üå± V√©rifications sur la longueur

Rieng

## üí• T√¢ches critiques

Bug clients majeurs, interruptions de service, etc.

Rieng

## ‚ö°Ô∏è T√¢ches rapides ‚ú®

Indiquer ici les *t√¢ches en dehors du flux g√©n√©ral* (urgences, corrections process, trucs qui perturbent et doivent √™tre fait, t√¢ches ultra rapides, etc.)

Rieng

## üöß WIP üöß

Si travail en cours, indiquer les *notes & liens* ici

Rieng

## üíº Taf üíº

### Masamune

1. slurp cours [3wa](https://e.3wa.fr/user/profile.php?id=2257)
2. install-dev-env > docker-compose pour les principales technos : js & phpay
   1. Nginx + conteneur de gestion de conteneurs
3. üîç [tmux](https://nickjanetakis.com/blog/who-else-wants-to-boost-their-productivity-with-tmux)
4. üîç [keys remap](https://nickjanetakis.com/blog/remap-and-set-global-hotkeys-on-windows-10-with-auto-hotkey)

---

### Cryptor

‚è≥üí© Attente paiement avant reprise

üîó Cf. [Statuts](https://docs.google.com/spreadsheets/d/1nvaJ1uGWcTgfAO7ej4-Bi0ReuN7Xmgou5HzcQ3qqLXo/edit#gid=1341993327)

---

### Serveur

#### Terminer les bases & migrer ancien serveur

1. üöÄ Relire les r√¥les 10 & 20
   1. `ansible-install-web-server\ansible\100---hello--masamune--fr----README--generated.md` > confusion entre nginx et wp > a cleaner (variable techno utilis√©e ou chp)
2. R√¥le acc√®s sftp
   1. Ancien r√¥le > sftp-create-user
3. R√¥le acc√®s bdd
   1. adminer, cf. cryptor
4. Backups sites clients
   1. ‚úÖ sophie berberian
   2. üí• R√©g√©nerer r√¥les afin d'avoir les playbooks de sauvegarde
      1. üöÄ R√©cup√©ration des playbooks actuellement utilis√©s & v√©rifications avant
         1. cf. `ansible-install-web-server\commandes-backup-volumes-a-la-maing_secret.md`
         2. cf. `ansible-install-web-server\ansible\tmp\_old`
         3. cf. `ansible-install-web-server\ansible\roles\stack-web-nginx--generate-playbooks\vars\clients\lapie\champagne-didier-lapie--com\`
         4. `ansible-install-web-server\ansible\roles\stack-web-wordpress--generate-playbooks\vars\clients`
      2. champagne didier lapie
         1. Cleaner au niveau du serveur dashed-uri > .com ou .fr
         2. G√©n√©rer via r√¥le propre
         3. Backup host & local
         4. Monter le playbook sur le dev client
         5. Migrer la prod
      3. ald infographie
         1. (wp g√©n√©r√© et lancement depuis ansible), Pour le moment c'est un yml lanc√© a l'arrache sur le serveur
         2. G√©n√©rer via r√¥le propre
         3. Backup host & local
         4. Monter le playbook sur le dev client
         5. Migrer la prod
      4. Nettoyer (sous)dossiers/fichiers
         1. /tmp/old, etc.
         2. ansible-install-web-server/ansible/roles/stack-web-nginx--generate-playbooks/vars
         3. ansible-install-web-server/ansible/roles/stack-web-wordpress--generate-playbooks/vars
         4. secrets > r√¥les a la racine > ne stocker que les generated dans le repo d√©di√©
            1. virer `/clients` qui est redondant
5. Renommer forge a nginx en forge tutum, puis faire un playbook d√©di√© nginx
    1. Faire conteneur en local pour tester installation & configuration simple
       1. R√©cup√©rer config faite pour cryptor
    2. Serveur normal & serveur php basique pour les sites non wp
    3. Opti [Nginx](https://hub.docker.com/_/nginx) / test-nginx.masamune.fr
       1. üîç [Video configuration](https://www.youtube.com/watch?v=C5kMgshNc6g)
       2. Tune server for [nginx performance](https://www.nginx.com/blog/10-tips-for-10x-application-performance/)
       3. [+1](https://blog.monitis.com/blog/6-best-practices-for-optimizing-your-nginx-performance/)
6. Gestion des mails propre
    1. Connexion au serveur SMPT du serveur ? cf. utils-emails
    2. [Conteneur postfix ?](https://hub.docker.com/_/postfixadmin)
    3. Ajout SPF/DKIM/DMARC
    4. Maj lapie & nonore
7. ‚è≥ Email clients interruption de service
    1. ‚úÖ template
8. Migration de l'ancien serveur, pour chaque client h√©berg√©, lister
    1. Technos
    2. üìåüìåüìåüìåüìåüìåüìå Fichiers
    3. BDD / Exports WordPress
    4. Basculer
9. Mettre √† jour le serveur
    1. Forcer red√©marrage > 52
    2. Maintenance > 98
10. ‚è≥ Lapie HMAC auto
    1. Lapie kek.php (Cr√©dit agricole > g√©n√©ration d'un fichier kek.php √† la racine lors de l'insertion de cl√© HMAC > d√©truit au reboot du conteneur)

#### Cleaner avant de poursuivre le projet

1. Tester Nginx + WordPress, sans bitnami, [cf.](https://wordpress.org/support/article/nginx/)
2. ansible template, au lieu de remplacer variables > [block_start_string](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html#parameter-block_start_string)
3. Installer webmin ou **netdata** plutot que grafana & autres
    1. Tester en local
4. Opti script maintenance
    1. Ajouter maj OMZ ZSH
5. Pr√©voir dev & prod > 1 seul script mais url change, m√™me users & pass
    1. R√©utiliser `/generated/vars` files ? (WP)
    2. Utiliser docker-compose.override.yml ? [Bonnes pratiques docker/compose](https://nickjanetakis.com/blog/best-practices-around-production-ready-web-apps-with-docker-compose)
       1. Variables d'environnement dans DC
    3. Check ansible > vars d'environnement afin de maj dev. ou prod
    4. Gestion dev/prod : 1 seul fichier
    5. ENV vars ++
    6. Volumes en fonction de l'environnement ¬§_¬§
6. Faire une grosse repasse sur les index de projet il manque plein de vars
   1. Note max du turfu : inspecter les fichiers g√©n√©r√©s (.md & .yml) & v√©rifier les variables, interpr√©t√©es ou non
   2. BUG: g√©n√©ration des fichiers de sites > prefixe `200-` pas utilis√© partout
7. wp > identifiants > ajouter url wp-admin
8. `/home/singed_the_docker_peon_9f3eqk4s9/configs/masamune/hello--masamune--fr` wtf is that
9. Process r√©current de Maj des images clients
10. Bitnami
    1. [Github issues](https://github.com/bitnami/bitnami-docker-mysql/issues/79#issuecomment-545477842) > Variable d'env afin d'augmenter le debug des conteneurs bitnami ! >> raisons explicites sur le probl√®me de boot du conteneur
    2. Gestion notes dans ansible-install-web-server/ansible/203-setup-wordpress-lapie_secret.yml
    3. Testay avec surcharge de conf via config: voir si ca boot avec la bonne conf
    4. Lourder si serveurs web classique stabilit√© 100%, +1 speed
    5. Activer modules php
    6. Http 2/3

#### Suite Serveur / post migration

1. Monitoring > MOD: 4-setup-core-services.yml
   1. Alternative ? [traefik pilot](https://doc.traefik.io/traefik-pilot/)
   2. Autres alternatives webmin & netdata
   3. Alerte si CPU/RAM > 75%
   4. Alerte si space disque libre < 20%
   5. Anciennes docs
      1. üîç Docs
         - [Monitoring, the Prometheus Way](https://www.youtube.com/watch?v=PDxcEzu62jk)
         - [Docker swarm rocks > monitoring w. swarprom](https://dockerswarm.rocks/swarmprom/)
           - [Docker / Prometheus setup](https://docs.docker.com/config/daemon/prometheus/)
             - Traefik config
               - [Official doc](https://docs.traefik.io/observability/metrics/prometheus/)
               - [Example](https://community.containo.us/t/502-bad-gateway-solved/2947) >
               - "--metrics.prometheus=true"
               - "--entryPoints.metrics.address=:8082"
               - "--metrics.prometheus.entryPoint=metrics"
               - "--metrics.prometheus.buckets=0.1,0.3,1.2,5.0"
           - [Swarmprom - Prometheus Monitoring for Docker Swarm](https://www.weave.works/blog/swarmprom-prometheus-monitoring-for-docker-swarm)
      2. UI pour afficher les logs docker de chaque service (~eq datadog)
      3. Swarm WebUi Portainer
         1. [doc](https://portainer.readthedocs.io/en/stable/deployment.html)
         2. [DS rocks](https://dockerswarm.rocks/portainer/)
2. Gestion des backups
    1. Ajout au CRON
    2. Envoi vers serveur de backup + rotation/sauvegarde incr√©mentielle
3. Checker ce qui prend de la place sur le disque ~80Go ? 13% de 450 > `docker system df -v` ; cf. backup des volumes
   1. üí• T√¢che ponctuelle clean logs (en attendant automatisation > traefik.log > 200514-traefik.log)
4. Ansible convenience
    1. Clean templating, variable [deprecated ansible_managed](https://docs.ansible.com/ansible/2.4/intro_configuration.html#ansible-managed)
        1. [?](https://docs.ansible.com/ansible/latest/reference_appendices/config.html#default-managed-str)
    2. [ansible prompt](https://docs.ansible.com/ansible/latest/user_guide/playbooks_prompts.html)
5. Containers [Healtcheck](https://blog.sixeyed.com/docker-healthchecks-why-not-to-use-curl-or-iwr/)
6. Pagespeed optimisations w. vanilla websites
7. Tester conteneurs de serveurs (facilit√©/stabilit√©/vitesse/http3)
    1. Need modules de cache php activ√©s
    2. HTTP 2/3 serait un vrai plus
    3. Nginx
    4. [Apache](https://hub.docker.com/_/httpd) / test-httpd.masamune.fr
    5. [Caddy](https://hub.docker.com/_/caddy) / test-caddy.masamune.fr
    6. Litespeed : [open](https://hub.docker.com/r/litespeedtech/openlitespeed) / [payant ?](https://hub.docker.com/r/litespeedtech/litespeed)
       1. 2-3 trucs/plugins a regarder en plus pour WP : [doc](https://www.litespeedtech.com/open-source) & [site d√©di√©](https://lscache.io/)
       2. test-litespeed.masamune.fr
    7. üå± Chaque serveur > Tester WP (install via wp-cli ?)
8. Docker certification [175‚Ç¨](https://success.docker.com/certification)
9. Veille securit√©
   1. [Docker Production Best Practices from Bret Fisher at DockerCon](https://www.youtube.com/watch?v=V4f_sHTzvCI)
   2. [Container security free pdf](http://containersecurity.tech/)
10. Veille
    - Optimize DC files with blocks templates, remove redundancy, cf. [docker con 19](https://youtu.be/woBI466WMR8?t=481).
    - Service > Docker prune toutes les heures, cf. [docker con 19](https://youtu.be/woBI466WMR8?t=209).
    - Check logging driver : local
      - Update docker daemon.json, cf. [D con 19](https://youtu.be/woBI466WMR8?t=537).
    - Prevent network collisions > D daemon default adress pool, , cf. [D con 19](https://youtu.be/woBI466WMR8?t=657).
    - Ranger: recap [recos s√©curit√© D con 17](https://youtu.be/1vgi51f0tCk?t=1671).
    - Ranger: Docker w GUI ! [D con 17](https://youtu.be/1vgi51f0tCk?t=2117).
      - Article d√©di√©[Docker Containers on the Desktop](https://blog.jessfraz.com/post/docker-containers-on-the-desktop/)
    - Veille, mauvaises pratiques docker : [12 Fractured Apps](https://medium.com/@kelseyhightower/12-fractured-apps-1080c73d481c)
    - ~Docker utils : [gosu](https://github.com/tianon/gosu)

---

### Lapie > Finaliser

1. Cleaner github dedi√© > client/url-site/
2. Lapie > Ranger chartes graphiques & lapie-web
3. Charte graphique > Faire les TODOs
4. Lapie, retours SEO
5. Lapie > [Statut](https://docs.google.com/spreadsheets/d/1zZUT0F4XMQyVAFbP7ihACnRz10pmog5KoYlcaiXOGIk/edit#gid=0)
6. ~Lapie > Maj traefik pour redirection www. > faire des tests alakon sur NDD masa avant, cf. critique
      1. Maj Ansible

---

### Auto-entrepreneur

1. Migration avant 2023 [google analytics 4](https://mail.google.com/mail/u/0/#inbox/FMfcgzGpFWSCZKSSbnBjmgLtgpFfLWxC)
2. Veille
   1. [Arr√™t maladie : les d√©marches du travailleur ind√©pendant](https://www.ameli.fr/assure/droits-demarches/maladie-accident-hospitalisation/arret-travail-maladie/arret-travail-maladie-independants)
   2. üí• CPF [Prise en charge des formations des travailleurs ind√©pendants](https://entreprendre.service-public.fr/vosdroits/F31148)
   3. [Quand prendre sa retraite ?](https://www.lassuranceretraite.fr/portail-info/home/actif/travailleur-independant/depart-retraite/inde-quand-retraite.html)
3. R√©f√©rencement AE
   1. [hey](https://www.cominjob.com/candidat/)
   2. [hoy](https://www.ouiboss.com/)
   3. [prout](https://www.freelance-informatique.fr/)
4. Renvoi doc AE d√©cla 0‚Ç¨ ann√©es pass√©es [hey](https://mail.google.com/mail/u/0/#inbox/FMfcgxmXKmkCGqSQkpPRbBrSKWcsbCpr)
5. Maj document de base √† partir de celui de PB Modelisme
   1. Cdc
   2. Devis
   3. Factures
   4. Statut
   5. Etc.

---

### Trucs **persos**

1. Trouver logiciel budget couple
2. üöÄ Musiques taf & portable
3. ‚úÖ concert 10/06 maximum the hormone
      1. üöÄ trains, et utiliser [reductions](https://mail.google.com/mail/u/0/#inbox/KtbxLxgZZVNcfFNSbtrStGMpWXmfCKPsJB)
4. Blog groupe metal que j'aime bieng ou pas en concert
5. Films
   1. Cin√©
      1. Nick cage
      2. Dernier Cronenberg
      3. Everything everywhere all at once
   2. death of dick long
6. Export photos tel & maj drive
7. Peinture Chtulu
    1. [How to paint Extreme Light Sources - OSL tutorial](https://www.youtube.com/watch?v=c48UiPSBfcg)
    2. [INDESTRUCTIBLE Gaming Bases - Quick & Easy](https://www.youtube.com/watch?v=tRFfsAG-Yf8)
    3. Green gold pour le [grand ancien](https://www.youtube.com/watch?v=AgJqjIMd6k8)
8. [Patinoire](https://mail.google.com/mail/u/0/#inbox/FMfcgzGmvLQjSdlzHqNgpnCFgHjXWZlW)
9. Pourrir la bred sur les r√©seaux
10. Retrouver Permis conduire
11. DL vid√©os WTF youtoob
12. [Changement propri√©taire chatte](https://mail.google.com/mail/u/0/#inbox/FMfcgzGllCcNJCZHqcjqlkNJhlNFzwZC)
13. Faire article r√©paration/optimisation de pc
    1. [hey](https://www.drivereasy.com/knowledge/100-disk-usage-windows-10-fixed/)
    2. [hoy](https://www.makeuseof.com/tips-fix-100-disk-usage-improve-windows-performance/)
14. Faire article maintenance PC
15. Faire article d√©couverte ansible
16. double authentification OVH manager
17. Mettre √† jour CV !
18. Rdv m√©decins
    1. Ophtalmo
    2. Cardiolog0ue
    3. Oreillologiste
19. CPF > Langage des signes / Amazon AWS / Jenkins git hooks
20. !site perso > cours particuliers code > 50‚Ç¨ heure (+, compter imp√¥ts)
21. [Boeuf ethique](https://www.leboeufethique.fr/)
22. Portable > reset usine
23. Saut en parachute reims BA prunay

## üí© Shame

Parfois, l'entropie.

Emplois du temps stock√©s sur mail, portable, favoris, bureau.

Extraire ici puis ranger & prioriser. Doit rester vide.

---

---

Tout est extrait :)

---

### Priorisation

Ordonner puis ranger dans le flux. Doit rester vide.

---

---

Tout est prioris√© :)

---
